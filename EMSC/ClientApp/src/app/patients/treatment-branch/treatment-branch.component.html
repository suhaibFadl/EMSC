<!-- الادارة:- عرض  الإجراءات  الطبية الخاصة بالجرحى في الخارج -->

<body>
  <form *ngIf="(LoginStatus$ | async) as LoginStatus">
    <div *ngIf="LoginStatus && UserRole =='مدير الفرع' || UserRole =='موظف إدخال الفرع' ">
      <mat-form-field class=" d-flex" style="text-align:start">
        <input (keyup)="applyFilter($event.target.value)" matInput placeholder="بحث ...">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
      <div>
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

          <ng-container matColumnDef="index">
            <th mat-header-cell *matHeaderCellDef> ر. </th>
            <td mat-cell *matCellDef="let i = index"> {{i+1}} </td>
          </ng-container>

          <ng-container matColumnDef="first">
            <th mat-header-cell *matHeaderCellDef> اسم الجريح </th>
            <td mat-cell *matCellDef="let pat"> {{pat.patientName}} </td>
          </ng-container>

          <ng-container matColumnDef="second">
            <th mat-header-cell *matHeaderCellDef> رقم جواز السفر </th>
            <td mat-cell *matCellDef="let pat"> {{pat.passportNo}} </td>
          </ng-container>

          <ng-container matColumnDef="third">
            <th mat-header-cell *matHeaderCellDef>الرقم الوطني </th>
            <td mat-cell *matCellDef="let pat"> {{pat.nationalNo}} </td>
          </ng-container>
          <ng-container matColumnDef="fourth">
            <th mat-header-cell *matHeaderCellDef>ر. إشاري رسالة الظم</th>
            <td mat-cell *matCellDef="let pat"> {{pat.letterIndexNO}} </td>
          </ng-container>



          <ng-container matColumnDef="fifth">
            <th mat-header-cell *matHeaderCellDef> موظف التشخيص </th>
            <td mat-cell *matCellDef="let pat">{{pat.userName }}</td>
          </ng-container>


          <ng-container matColumnDef="sixth">
            <th mat-header-cell *matHeaderCellDef>الدولة</th>
            <td mat-cell *matCellDef="let pat"> {{pat.country}} </td>
          </ng-container>
          <ng-container matColumnDef="seventh">
            <th mat-header-cell *matHeaderCellDef>المصحة</th>
            <td mat-cell *matCellDef="let pat"> {{pat.hospitalName}} </td>
          </ng-container>


          <ng-container matColumnDef="eighth">
            <th mat-header-cell *matHeaderCellDef>موعد الرحلة</th>
            <td mat-cell *matCellDef="let pat"> {{pat.medical_Diagnosis}} </td>
          </ng-container>


          <ng-container matColumnDef="nineth">
            <th mat-header-cell *matHeaderCellDef> تاريخ التشخيص </th>
            <td mat-cell *matCellDef="let pat">{{pat.date_Diagnosis | date :'yyyy-MM-dd'}}</td>
          </ng-container>
          <ng-container matColumnDef="ten">
            <th mat-header-cell *matHeaderCellDef> المرفقات</th>
            <td mat-cell *matCellDef="let pat">
              <a href="file/{{pat.attach}}" target="_blank">عرض المرفقات</a>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
        </table>
        <mat-paginator dir="rtl" class="d-flex justify-content-end" [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="10"></mat-paginator>
      </div>
    </div>
  </form>
</body>





